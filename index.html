<script type="module">
    // استيراد المكتبات
    import { initializeApp } from 'https://www.gstatic.com/firebasejs/9.6.1/firebase-app.js';
    import { getAuth, signInWithEmailAndPassword, createUserWithEmailAndPassword } from 'https://www.gstatic.com/firebasejs/9.6.1/firebase-auth.js';

    const firebaseConfig = {
        apiKey: "AIzaSyA6qT3_bz-TW-APYInozsWbp95c6h7v0-A",
        authDomain: "flash2-d91cf.firebaseapp.com",
        projectId: "flash2-d91cf",
        storageBucket: "flash2-d91cf.appspot.com",
        messagingSenderId: "56061341567",
        appId: "1:56061341567:web:54ab9815e76f0225b4344a"
    };

    // Initialize Firebase
    const app = initializeApp(firebaseConfig);
    const auth = getAuth(app);

    function login() {
        const username = document.getElementById('username').value;
        const password = document.getElementById('password').value;

        signInWithEmailAndPassword(auth, username, password)
            .then((userCredential) => {
                const user = userCredential.user;
                localStorage.setItem('clientUsername', username);
                window.location.href = 'client.html';
            })
            .catch((error) => {
                const errorMessage = error.message;
                alert('خطأ: ' + errorMessage);
            });
    }

    function register() {
        const username = prompt("البريد الإلكتروني:");
        const password = prompt("كلمة المرور:");

        if (username && password) {
            createUserWithEmailAndPassword(auth, username, password)
                .then((userCredential) => {
                    alert('تم تسجيل العميل الجديد بنجاح!');
                })
                .catch((error) => {
                    const errorMessage = error.message;
                    alert('خطأ: ' + errorMessage);
                });
        } else {
            alert('يرجى إدخال البريد الإلكتروني وكلمة المرور.');
        }
    }
</script>
